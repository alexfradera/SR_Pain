---
title: "Search terms"
author: "Alex Fradera"
date: "15/06/2021"
output: 
  html_document: 
    keep_md: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


# Population search terms
Not sure about this: do we need to specify Adult or just use in exclusion criteria?


```{r preview, include=FALSE}
library(readr)
input_file <- "cog_screens.csv"
x <- spec_csv(input_file) # good practice to peek before reading in
x

```

```{r load_file, include=FALSE}
cog_screens <- read_csv(input_file
                     )
```




# Pain search terms


# Cognitive screen search terms

```{r make_abbreviation_vector, include=FALSE}
library(dplyr)
abbrevsonly <- filter(cog_screens, cog_screens$Abbreviation != "to complete")
```







## Raw search terms


Based on all the cognitive screens in the .csv file, we would need to search for these test names and referents.

```{r text_list, include=TRUE}
library(stringr)

screen_full_names<- str_flatten(cog_screens$Test_Name,"\" OR \"")
screen_abbreviations<- str_flatten(abbrevsonly$Abbreviation,"\" OR \"")
screen_referents <- str_c("\"", screen_full_names, "\" OR \"", screen_abbreviations, "\"")
 writeLines(screen_referents)

```
In other words:

`r screen_referents`


*Note:* in fact some of the screeners names will need to be amended with wildcards.

## Putting search terms into readable contexts

### EBSCO Host

```{r}
s_screen_title <-  str_c("TI (",screen_referents,")")
s_screen_abstract <-  str_c("AB (",screen_referents,")")
  s_screen_testmeasures <- <-  str_c("TM (",screen_referents,")")
TM () OR TI ( ) OR AB ( )
```


